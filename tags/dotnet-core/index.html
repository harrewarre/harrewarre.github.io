<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="shortcut icon" href="/favicon.png" type="image/png">
<title>Dotnet Core | harre.dev</title>
<meta property="og:url" content="http://localhost:1313/tags/dotnet-core/">
<meta property="og:site_name" content="harre.dev">
<meta property="og:title" content="Dotnet Core">
<meta property="og:description" content="Dotnet Core">
<meta property="og:locale" content="en_us">
<meta property="og:type" content="website">

<meta property="og:image" content="/og-img.png">


    <link rel="stylesheet" href="/css/main.css">




</head>
<body>
<div class="site">
    <header>
        <div class="site-title">
    <img src="/og-img.png" alt="H is for Harre.">
    <h1>harre.dev</h1>
</div>
<nav>
    <a href="/">home</a>
    <a href="/blog">blog</a>
    <a href="/about">about</a>
    <a href="/blog/index.xml">rss</a>
</nav>


    </header>
    <main>
        
<h1>Dotnet Core</h1>


<h2><a href="/blog/dotnet-ef-migrations-on-cloud-foundry/">Dotnet Core Entity Framework Migrations on Cloud Foundry</a></h2>
<p>Run database migrations on Cloud Foundry using a task to ensure that migrations are only done once on deployment (and not during app start up!) for dotnet core applications. This post assumes you are deploying built applications and not raw source code.</p>
<p>Instead of depending on dotnet tooling (<code>dotnet-ef</code>), leverage the built-in migration capability of the DataContext. Interrupt the startup procedure when a special argument is passed in, instead of starting the web application, run the migrations and then exit.
So here we go, to start we need a DbContext:</p>

<h2><a href="/blog/net-core-5-on-raspberry-pi/">Dotnet core 5 on a raspberry pi</a></h2>
<p>Here&rsquo;s a quick get-up-and-go style post on how to get dotnet core 5 usable on a Raspberry Pi (a R-Pi 3 Model B in my case).</p>
<p>We&rsquo;re doing all this over SSH because my goal was to run a small webapp on the Pi which is located in a cupboard somewhere in my house without a keyboard and mouse attached to it üòÅ
So, after you&rsquo;ve connected to the Pi over SSH, the first step is to install the dotnet core SDK.</p>

<h2><a href="/blog/netcore-az-container-environment/">Environment variables in an Azure Web App for Containers</a></h2>
<p>Here&rsquo;s a little gotcha I ran into. A .net core app I wrote needs to run inside a container and the target was a Web App for Containers on the Azure platform. No big deal so far.</p>
<p>The app also needs a few settings for it to do its work. We provide these via environment variables for maximum flexibility. After setting up some CI/CD stuff and deploying the app it wouldn&rsquo;t start because it wasn&rsquo;t loading the settings.</p>

<h2><a href="/blog/cf-netcore-logging/">ASP.NET Core logging on Cloud Foundry</a></h2>
<p>All apps I&rsquo;ve ever worked on have some sort of logging going on for various reasons, mostly to keep track of whats going on or debugging, but it&rsquo;s all the same. Logs are needed to see what your code is up to.</p>
<p>Cloud Foundry <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/streaming-logs.html#writing">is very explicit</a> about <em>how</em> an app should write its logs. As you can see in the documentation, apps must write to <code>stdout</code> or <code>stderr</code>.</p>
<p>For C# that means we can use the static methods on the <code>Console</code> to write our logs. Couldn&rsquo;t be easier. But&hellip; now our code is littered with these <code>Console.Write...</code> lines all over the place!</p>

<h2><a href="/blog/angularcli-aspnetcore-quickstart/">Angular (5) and aspnet core (2) quickstart</a></h2>
<p>Here is a get-up-and-go style post to get going with the angular CLI and aspnet core. Before we begin, there is a template you can use to set (most, if not more) of this up, but it&rsquo;s good to know what is going on behind the curtains.</p>
<!-- raw HTML omitted -->
<h2 id="first-things-first">First things first.</h2>
<p>You need some tools installed to get the base project set up.</p>
<ol>
<li><a href="https://www.microsoft.com/net/learn/get-started">dotnet core SDK</a></li>
<li><a href="https://nodejs.org/en/">Node</a></li>
<li><a href="https://cli.angular.io/">angular-cli</a> which we&rsquo;ll install using NPM.</li>
</ol>
<p>Open a command prompt and run the following command:</p>

<h2><a href="/blog/dotnet-core-cli-user-secrets/">Dotnet Core CLI user secrets</a></h2>
<p>User secrets are what you use for settings in a .NET Core app that you don&rsquo;t want committed to your public repos (think API keys, passwords, anything sensitive). You map out your actual settings and they override them with the values from the secrets, which are stored outside of the tracked source folder.</p>
<p>On windows the user secrets folder is located here: <code>%APPDATA%\microsoft\UserSecrets</code>. Let&rsquo;s have a look at how use them with the new tooling for .NET Core that came out recently.</p>

<h2><a href="/blog/dotnet-core-tooling-quickstart/">Dotnet Core tooling quickstart</a></h2>
<p>With the .NET Core tools finally showing signs of stabilizing in version 1.0.1 we can have a little look at how you can get started with a new project using just the tools.</p>
<p>You can download the new stuff <a href="https://www.microsoft.com/net/core#windowscmd">here</a>. I&rsquo;m writing this post using the 1.0.1 version of the tools.</p>
<p><img src="coreversion.png" alt="dotnet &ndash;version"></p>
<p>A new very nice thing is that the new tooling comes with some built in templates you can use instead of relying on something like <a href="http://yeoman.io/">Yeoman</a> to create an empty project for you. The <code>dotnet new</code> command is still the way to create a new project (like it was in the older tools) but you can now specify what kind of project you want as a base.</p>

<h2><a href="/blog/my-first-asp-net-core-app-on-cloud-foundry/">My first ASP.NET Core app on Cloud Foundry</a></h2>
<p>Today I tried to deploy a .NET Core web app to a Pivotal Cloud Foundry platform that my <a href="http://www.itq.nl">ITQ</a> buddy <a href="http://www.ruurdkeizer.com">Ruurd</a> set up for us to tinker with. The app itself is a very basic ASP.NET MVC app built with the new ASP.NET Core framework to make it cross-platform. It being cross platform makes it very easy to deploy on something like Cloud Foundry since there is no dependency on Windows or the full .NET Framework anymore.</p>


    </main>
    <footer>
        <small>
    <span>üå± content written by an actual human.</span>
    <span>¬©Ô∏è copyright 2015-2024 harre.dev</span>
</small>
<a href="/blog/index.xml">
    üì° rss
</a>

    </footer>
</div>
</body>
</html>
